import{r as e,j as s,L as l,B as a}from"./ssr.mjs";import{S as i,n as r,c as t,o as c,M as n,p as d,I as o,A as m}from"./shop-header-Bsg2Rjni.mjs";import{S as x}from"./separator-DO5OwCKm.mjs";import"../nitro/nitro.mjs";import"node:process";import"cloudflare:workers";import"node:events";import"node:buffer";import"node:timers";import"node:path";import"node:async_hooks";import"node:stream";import"node:stream/web";const h=[{id:"cart-1",productId:"prod-001",name:"プレミアム ワイヤレスヘッドホン",price:29800,quantity:1,image:"/placeholder.jpg",color:"ブラック"},{id:"cart-2",productId:"prod-004",name:"レザービジネスバッグ",price:38e3,quantity:1,image:"/placeholder.jpg",color:"ブラウン"},{id:"cart-3",productId:"prod-003",name:"オーガニックコットン Tシャツ",price:3900,quantity:2,image:"/placeholder.jpg",color:"ホワイト",size:"M"}];function Cart(){const j=e.useId(),[p,u]=e.useState(h),[f,N]=e.useState(""),updateQuantity=(e,s)=>{u(s<1?p.filter(s=>s.id!==e):p.map(l=>l.id===e?{...l,quantity:s}:l))},g=p.reduce((e,s)=>e+s.price*s.quantity,0),v=g>=5e3?0:500,w=Math.floor(.1*g),y=g+v+w;return 0===p.length?s.jsxs("div",{className:"flex min-h-screen flex-col",children:[s.jsx(i,{}),s.jsx("main",{className:"flex flex-1 justify-center",children:s.jsx("div",{className:"w-full max-w-7xl px-4 py-16 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"mx-auto max-w-2xl text-center",children:[s.jsx(r,{className:"mx-auto h-16 w-16 text-muted-foreground"}),s.jsx("h1",{className:"mt-4 font-bold text-2xl",children:"カートは空です"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"お気に入りの商品を見つけて、カートに追加してください"}),s.jsx(l,{to:"/shop/products",children:s.jsx(a,{className:"mt-6",children:"商品を探す"})})]})})}),s.jsx(t,{})]}):s.jsxs("div",{className:"flex min-h-screen flex-col",children:[s.jsx(i,{}),s.jsx("main",{className:"flex flex-1 justify-center",children:s.jsxs("div",{className:"w-full max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:[s.jsx("h1",{className:"mb-8 font-bold text-3xl",children:"ショッピングカート"}),s.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsx("div",{className:"space-y-4",children:p.map(e=>s.jsx("div",{className:"rounded-lg border p-4",children:s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"h-24 w-24 shrink-0 overflow-hidden rounded-lg bg-gray-100",children:s.jsx("img",{src:e.image,alt:e.name,className:"h-full w-full object-cover"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("div",{children:[s.jsx(l,{to:"/shop/products/$product",params:{product:e.productId},children:s.jsx("h3",{className:"font-semibold hover:text-primary",children:e.name})}),s.jsxs("div",{className:"mt-1 text-muted-foreground text-sm",children:[e.color&&s.jsxs("span",{children:["カラー: ",e.color]}),e.size&&s.jsxs("span",{className:"ml-4",children:["サイズ: ",e.size]})]})]}),s.jsx(a,{size:"icon",variant:"ghost",onClick:()=>{return s=e.id,void u(p.filter(e=>e.id!==s));var s},children:s.jsx(c,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>updateQuantity(e.id,e.quantity-1),children:s.jsx(n,{className:"h-3 w-3"})}),s.jsx("span",{className:"w-12 text-center",children:e.quantity}),s.jsx(a,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>updateQuantity(e.id,e.quantity+1),children:s.jsx(d,{className:"h-3 w-3"})})]}),s.jsxs("div",{className:"font-semibold text-lg",children:["¥",(e.price*e.quantity).toLocaleString()]})]})]})]})},e.id))}),s.jsx("div",{className:"mt-6",children:s.jsx(l,{to:"/shop/products",children:s.jsx(a,{variant:"outline",children:"買い物を続ける"})})})]}),s.jsx("div",{children:s.jsxs("div",{className:"rounded-lg border p-6",children:[s.jsx("h2",{className:"mb-4 font-semibold text-lg",children:"注文内容"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"小計"}),s.jsxs("span",{children:["¥",g.toLocaleString()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"配送料"}),s.jsx("span",{children:0===v?"無料":`¥${v.toLocaleString()}`})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"消費税"}),s.jsxs("span",{children:["¥",w.toLocaleString()]})]})]}),s.jsx(x,{className:"my-4"}),s.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[s.jsx("span",{children:"合計"}),s.jsxs("span",{children:["¥",y.toLocaleString()]})]}),v>0&&s.jsxs("p",{className:"mt-2 text-muted-foreground text-sm",children:["あと ¥",(5e3-g).toLocaleString()," で送料無料"]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("label",{htmlFor:j,className:"mb-2 block font-medium text-sm",children:"クーポンコード"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(o,{id:j,placeholder:"コードを入力",value:f,onChange:e=>N(e.target.value)}),s.jsx(a,{variant:"outline",children:"適用"})]})]}),s.jsx(l,{to:"/shop/checkout",children:s.jsxs(a,{className:"mt-6 w-full",size:"lg",children:["レジに進む",s.jsx(m,{className:"ml-2 h-4 w-4"})]})}),s.jsxs("div",{className:"mt-4 space-y-2 text-center text-muted-foreground text-sm",children:[s.jsx("p",{children:"✓ SSL暗号化で安全な決済"}),s.jsx("p",{children:"✓ 30日間返品保証"})]})]})})]})]})}),s.jsx(t,{})]})}export{Cart as component};
//# sourceMappingURL=cart-D1zjdwtI.mjs.map
